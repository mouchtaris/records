#!/usr/bin/env bash

pg_ctl stop 2>&1;

#  "$PYTHON_BUILD_CACHE_PATH" \
#  "$PIP_CACHE_DIR" \
#  "$PIPENV_CACHE_DIR" \

for f in \
  "$AIRFLOW_HOME" \
  "$AIRFLOW_LOGS" \
  "$AIRFLOW_SCHEDULER_LOGS" \
  "$PGDATA" \
  "$PIP_ROOT" \
  "$PYENV_ROOT" \
  "$WORKON_HOME" \
  .venv/ \
  "_VENV_ROOT" \
  $HOME/.cache/pip/ \
  $HOME/.cache/pipenv/ \
  $HOME/.cache/pypoetry/ \
  $HOME/.local/app/miniconda/envs/ \
  $HOME/.local/bin/ \
  $HOME/.local/lib/ \
; do
  nfiles="$( [ -f "$f" -o -d "$f" ] && find "$f" -type f | wc -l || echo '0' )"
  printf '[%5d] Killing %s ...\n' "$nfiles" "$f"
  rm -rf "$f"
done
